<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" value="IE=9" />

    

    

    <title>RouterPublisherWidget Constructor</title>
    <meta name="Title" content="RouterPublisherWidget Constructor"/>    
    

    <script src="template/packages/jquery/script/chm.mshc/jquery-1.7.2.min.js" type="text/javascript" id="mshs_support_script"></script>
    <script src="template/packages/jquery-ui/script/chm.mshc/jquery-ui-1.8.18.custom.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="template/packages/jquery-ui/css/chm.mshc/jquery-ui-1.8.18.custom.css"></link>
    
    <script type="text/javascript">var Innovasys=(Innovasys||{});$.extend(true,Innovasys,{settings:{versions:{popupContainer:'#i-after-header-content'}}},{settings:{"dynamictoc":{"initialNodeId":"n0","initialNodeContainer":"c0"},"currentLocale":"-","isFrameless":false,"navigationKind":"frames","versions":{"locale":{"currentId":"-"}}}});</script>

    <link rel="stylesheet" type="text/css" href="template/packages/plugins-dotnet/css/chm.mshc/jquery-plugins.css"></link>
    <link rel="stylesheet" type="text/css" href="template/packages/core-dotnet/css/dx.net.css"  data-mshv2-stylesheet="/template/packages/core-dotnet/dx.net.mshv2.css" data-mshv1-stylesheet="/template/packages/core-dotnet/dx.net.mshv1.css" data-responsive-mobile="template/packages/core-dotnet/dx.net.mobile.css" data-responsive-tablet="template/packages/core-dotnet/dx.net.tablet.css"></link>
    <script src="template/packages/plugins-dotnet/script/chm.mshc/jquery-plugins.min.js" type="text/javascript"></script>
    <script src="template/packages/core-dotnet/script/dx.net.min.js" type="text/javascript"></script>
    
    <meta name="Microsoft.Help.Id" content="FD.ZeroMQ.NetMQ~FD.ZeroMQ.NetMQ.RouterPublisherWidget~_ctor"/>
    <meta name="Description" content="Creates widget that uses ROUTER socket internally, but behaves as a publisher. See FD.ZeroMQ.IRouterPublisher for details." />
    <meta name="Microsoft.Help.TocParent" content="FD.ZeroMQ.NetMQ~FD.ZeroMQ.NetMQ.RouterPublisherWidget"/>
    <meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="Microsoft.Help.F1" content="FD.ZeroMQ.NetMQ.RouterPublisherWidget.#ctor"/><meta name="Microsoft.Help.TocOrder" content="10"/>
    
    
    
    
    
    <link rel="stylesheet" type="text/css" href="stylesheets/customstyles.css"></link>
    

    

    

    <!-- Google Analytics -->
<script>
if (location.protocol == "http:" || location.protocol == "https:") {
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-78446365-3', 'auto');
ga('send', 'pageview');
}
</script>
<!-- End Google Analytics -->

</head>

<body>
    <div id="i-before-header-content" class="i-before-header-content">
        
    </div>
    <div id="i-header-content" class="i-header-content">
        
            <div class="i-project-title">FD.ZeroMQ Library</div>
        <div class="i-page-title"><div class="i-page-title-text">RouterPublisherWidget Constructor</div></div>
    </div>
    <div id="i-after-header-content" class="i-after-header-content">
        <!-- Spacing --> <span class="i-toggle-all-sections i-function-link">
                <label class="i-collapse-all">Collapse All</label>
                <label class="i-expand-all" style="display: none;">Expand All</label>
            </span><!-- Spacing --> <span class="i-language-filter i-popup-link" data-popup-contentsource="#i-language-options" data-popup-title='Language Filter'>
                <label class="i-language-filter-all">
                    Language Filter: All
                </label>
                <label class="i-language-filter-multiple" style="display: none;">
                    Language Filter: Multiple
                </label>
                <label class="i-language-filter-vball" style="display: none;">
                    Language Filter: Visual Basic
                </label>				
                
<label class="i-VB-label" style="display: none;">Language Filter: Visual Basic (Declaration)</label>
<label class="i-VBUsage-label" style="display: none;">Language Filter: Visual Basic (Usage)</label>
<label class="i-CS-label" style="display: none;">Language Filter: C#</label>
<label class="i-CPP2005-label" style="display: none;">Language Filter: C++/CLI</label>

            </span>
            <div class="i-popup-content" id="i-language-options">
                
<input data-languagename="VB" id="i-VB-language-checkbox" type="checkbox" class="i-toggle-language-checkbox" checked="true" data-toggleclass="i-filtered-content-VB"/>
<label class="i-language-filter" for="i-VB-language-checkbox">
Visual Basic (Declaration)
</label>
<br /><input data-languagename="VBUsage" id="i-VBUsage-language-checkbox" type="checkbox" class="i-toggle-language-checkbox" checked="true" data-toggleclass="i-filtered-content-VBUsage"/>
<label class="i-language-filter" for="i-VBUsage-language-checkbox">
Visual Basic (Usage)
</label>
<br /><input data-languagename="CS" id="i-CS-language-checkbox" type="checkbox" class="i-toggle-language-checkbox" checked="true" data-toggleclass="i-filtered-content-CS"/>
<label class="i-language-filter" for="i-CS-language-checkbox">
C#
</label>
<br /><input data-languagename="CPP2005" id="i-CPP2005-language-checkbox" type="checkbox" class="i-toggle-language-checkbox" checked="true" data-toggleclass="i-filtered-content-CPP2005"/>
<label class="i-language-filter" for="i-CPP2005-language-checkbox">
C++/CLI
</label>

            </div>
        
    </div>
    <div class="i-breadcrumbs-container"><table><tr><td>
<a href="FD.ZeroMQ.NetMQ~FD.ZeroMQ.NetMQ_namespace.html">FD.ZeroMQ.NetMQ Namespace</a>
 > <a href="FD.ZeroMQ.NetMQ~FD.ZeroMQ.NetMQ.RouterPublisherWidget.html">RouterPublisherWidget Class</a>
 : RouterPublisherWidget Constructor</td></tr></table></div>
    
    
<div id="hwmProtectionPopupContent" class="i-popup-content">
Maximal number of messages sent between 
            two heartbeats.
</div>

    <div id="i-body-content" class="i-body-content">
        <div class="i-description-content">Creates widget that uses ROUTER socket internally, but behaves as a publisher. See <A href="FD.ZeroMQ~FD.ZeroMQ.IRouterPublisher.html">FD.ZeroMQ.IRouterPublisher</A> for details.</div>
            
            
            <div class="i-section-heading" id="i-syntax-section-heading"><span class="i-section-heading-icon"><!-- --></span><span class="i-section-heading-text">Syntax</span></div><div id="i-syntax-section-content" class="i-section-content">
            <div class="i-tab-container i-tab-container">
            <ul>
            
            <li class="i-filtered-content-VBAll"><a href="#i-syntax-VBAll">Visual Basic</a></li>
        

            <li class="i-filtered-content-CS"><a href="#i-syntax-CS">C#</a></li>
        

            <li class="i-filtered-content-CPP2005"><a href="#i-syntax-CPP2005">C++/CLI</a></li>
        

            </ul>
            
            <div id="i-syntax-VB" class="i-filtered-content-VB">
            <pre><pre><span style="color: #008000; ">'Declaration
</span> 
</pre><pre><span style="color: #0000FF; ">Public</span> <span style="color: #0000FF; ">Function</span> <span style="color: #0000FF; ">New</span>( _
   <span style="color: #0000FF; ">ByVal</span> <i><a class="i-popup-link" id="hwmProtectionPopupLink" data-popup-contentsource="#hwmProtectionPopupContent" data-popup-showevent="click mouseenter">hwmProtection</a></i> <span style="color: #0000FF; ">As</span> <a href="#" onclick="javascript:navigateToHelp2Keyword('frlrfSystemInt32ClassTopic','System.Int32')">Integer</a> _
)</pre></pre>
            </div>
        

            <div id="i-syntax-VBUsage" class="i-filtered-content-VBUsage">
            <pre><pre><span style="color: #008000; ">'Usage
</span> 
</pre><pre><span style="color: #0000FF; ">Dim</span> hwmProtection <span style="color: #0000FF; ">As</span> <a href="#" onclick="javascript:navigateToHelp2Keyword('frlrfSystemInt32ClassTopic','System.Int32')">Integer</a>
 
<span style="color: #0000FF; ">Dim</span> instance <span style="color: #0000FF; ">As</span> <span style="color: #0000FF; ">New</span> <a href="FD.ZeroMQ.NetMQ~FD.ZeroMQ.NetMQ.RouterPublisherWidget.html">RouterPublisherWidget</a>(hwmProtection)</pre></pre>
            </div>
        

            <div id="i-syntax-CS" class="i-filtered-content-CS">
            <pre><pre><span style="color: #0000FF; ">public</span> RouterPublisherWidget( 
   <a href="#" onclick="javascript:navigateToHelp2Keyword('frlrfSystemInt32ClassTopic','System.Int32')">int</a> <i><a class="i-popup-link" id="hwmProtectionPopupLink" data-popup-contentsource="#hwmProtectionPopupContent" data-popup-showevent="click mouseenter">hwmProtection</a></i>
)</pre></pre>
            </div>
        

            <div id="i-syntax-CPP2005" class="i-filtered-content-CPP2005">
            <pre><pre><span style="color: #0000FF; ">public</span>:
RouterPublisherWidget( 
   <a href="#" onclick="javascript:navigateToHelp2Keyword('frlrfSystemInt32ClassTopic','System.Int32')">int</a> <i><a class="i-popup-link" id="hwmProtectionPopupLink" data-popup-contentsource="#hwmProtectionPopupContent" data-popup-showevent="click mouseenter">hwmProtection</a></i>
)</pre></pre>
            </div>
        

            </div>
        
            <h4 class=dxh4>Parameters</h4><dl><dt><I>hwmProtection</I></dt>
<dd>Maximal number of messages sent between 
            two heartbeats.</dd></dl>
            </div>
            
            
            
            <div class="i-section-heading" id="i-remarks-section-heading"><span class="i-section-heading-icon"><!-- --></span><span class="i-section-heading-text">Remarks</span></div><div id="i-remarks-section-content" class="i-section-content">It is very important to understand the meaning of <A id=hwmProtectionParameterLink class=i-popup-link data-popup-showevent="click mouseenter" data-popup-contentsource="#hwmProtectionPopupContent">hwmProtection</A> parameter. Description clearly states that this is the maximal number of messages that will be sent between two heartbeats from a subscriber. We have to have this in mind while selecting the appropriate value - the value has to be large enough to allow enough time for subscriber to send heartbeat, and for publisher to receive it. For example if we expect up to 1,000 publishings per second, and we estimate that 1 second is enough time even for <EM>the most distant</EM> subscriber to send heartbeat and for publisher to receive it - we have to select this value to be at least 1 * 1,000 = 1,000. If the value is lesser we are risking that publisher will stop sending the message to a subscriber although the subscriber can be still alive. 
<P>On the other side, this value <STRONG>has to be greater</STRONG> than <CODE originaltag="c">SendHighWatermark</CODE> value used by underlaying ROUTER socket, or we are risking that the socket will block before number of messages sent reaches <A id=hwmProtectionParameterLink class=i-popup-link data-popup-showevent="click mouseenter" data-popup-contentsource="#hwmProtectionPopupContent">hwmProtection</A>. For this reason in case of <A href="FD.ZeroMQ~FD.ZeroMQ.IRouterPublisher.html">FD.ZeroMQ.IRouterPublisher</A> widgets <CODE originaltag="c">SendHighWatermark</CODE> socket value is set to <CODE originaltag="c">0</CODE> (meaning "unlimited") on creation. But if you change this value later for any reason - you should ensure that the new value is greater than <A id=hwmProtectionParameterLink class=i-popup-link data-popup-showevent="click mouseenter" data-popup-contentsource="#hwmProtectionPopupContent">hwmProtection</A> sent here.</P>
<P>On subscriber side (<A href="FD.ZeroMQ~FD.ZeroMQ.IDealerSubscriber.html">FD.ZeroMQ.IDealerSubscriber</A> widget) you don't have to worry about this - the widget is automatically send heartbeat when needed. Just for your information here's an explanation how things are handled at subscriber side:</P>
<UL>
<LI>After its first subscription for any term subscriber gets <A id=hwmProtectionParameterLink class=i-popup-link data-popup-showevent="click mouseenter" data-popup-contentsource="#hwmProtectionPopupContent">hwmProtection</A> value from the publisher as response;
<LI><EM>Knowing</EM> this value, the subscriber will send heartbeat to publisher as soon as number of messages received reaches one third of this value. For example, if subscriber knows that <A id=hwmProtectionParameterLink class=i-popup-link data-popup-showevent="click mouseenter" data-popup-contentsource="#hwmProtectionPopupContent">hwmProtection</A> value is 1,000, it will send heartbeat to publisher after 333 messages received, ensuring <EM>safe margin</EM> for more messages while the publisher actually gets the heartbeat.</LI></UL></div>
            <a name="exampleBookmark"></a>
            
            
            
            
            <div class="i-section-heading" id="i-requirements-section-heading"><span class="i-section-heading-icon"><!-- --></span><span class="i-section-heading-text">Requirements</span></div><div id="i-requirements-section-content" class="i-section-content"><p><b>Target Platforms:</b> Windows 7, Windows Vista SP1 or later, Windows XP SP3, Windows Server 2008 (Server Core not supported), Windows Server 2008 R2 (Server Core supported with SP1 or later), Windows Server 2003 SP2</p></div>
            <a name="seealsobookmark"></a>
            <div class="i-section-heading" id="i-seealso-section-heading"><span class="i-section-heading-icon"><!-- --></span><span class="i-section-heading-text">See Also</span></div><div id="i-seealso-section-content" class="i-section-content"><h4 class="i-sub-heading">Reference</h4><p><a href="FD.ZeroMQ.NetMQ~FD.ZeroMQ.NetMQ.RouterPublisherWidget.html">RouterPublisherWidget Class</a>
<br/><a href="FD.ZeroMQ.NetMQ~FD.ZeroMQ.NetMQ.RouterPublisherWidget_members.html">RouterPublisherWidget Members</a>
<br/><a href="FD.ZeroMQ~FD.ZeroMQ.IRouterPublisher.html">IRouterPublisher Interface</a>
</p>
</div>
        
    </div>
    <div id="i-footer-content" class="i-footer-content">
        

<a href="mailto:support@company.com?subject=Documentation Feedback: FD.ZeroMQ.NetMQ~FD.ZeroMQ.NetMQ.RouterPublisherWidget~_ctor.html">Send Feedback</a>
    </div>
    

    
    
    <script type="text/javascript">
        $(function() {
            var documentInstance = new Innovasys.Content.Document(document.body);
            documentInstance.isNew = !(typeof setIsNew === "undefined");
            documentInstance.isResponsiveEnabled = !(typeof setIsResponsiveEnabled === "undefined");
            documentInstance.load();
        });
    </script>
</body>
</html>
